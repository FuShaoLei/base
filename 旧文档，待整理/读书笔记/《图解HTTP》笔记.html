
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style type="text/css">
        :root {
            --left-with: 300px;
            --color-bg: #1E1F22;
            --color-theme-main: antiquewhite;
            --color-text-main: #A9A9B3;
            --color-text-secondary: #333437;
            --color-embellish: #26282E;

            --font-main: 'Noto Serif SC', serif;
        }

        body, html {
            margin: 0;
            padding: 0;
        }

        /* 滚动条 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--color-text-secondary);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-text-secondary);
        }


        body {
            background-color: var(--color-bg);
            color: var(--color-text-main);
            font-family: var(--font-main);
        }

        body a {
            color: var(--color-text-main);
            text-decoration: none;
        }
        body a:hover{
            color: var(--color-theme-main);
        }

        .leftArea {
            font-size: .9rem;
            position: fixed;
            top: 0;
            left: 0;
            width: var(--left-with);
            height: 100%;
            overflow: auto;
            background: var(--color-embellish);
        }

        .rightArea {
            font-size: 1.1rem;
            margin-left: var(--left-with);
            padding: 30px;
        }

        .article-wrapper img {
            max-width: 100%;
        }

        .folder-top-wrapper {
            margin-top: 12px;
        }

        .folder-name {
            font-weight: 900;
            font-size: 1rem;
            color: antiquewhite;
        }
        .article-item{
            margin: 2px 0;
        }
    </style>
    <title>《图解HTTP》笔记.md</title>
</head>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;700;900&family=Roboto+Mono&display=swap"
      rel="stylesheet">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<body>
<main>
    <aside class="leftArea">
        <div style="padding: 30px">
            <div class="article-item">
                 <a href="/base/index.html">index.html</a>
            </div>
            <div class="folder-wrapper folder-top-wrapper">
                <div class="folder-name"> 学习笔记</div>
            <div class="article-item">
                > <a href="/base/学习笔记/Android-Camp-2023.html">Android-Camp-2023.md</a>
            </div>
            <div class="article-item">
                > <a href="/base/学习笔记/FreeMarker笔记.html">FreeMarker笔记.md</a>
            </div>
            <div class="article-item">
                > <a href="/base/学习笔记/Java注解.html">Java注解.md</a>
            </div>
            <div class="article-item">
                > <a href="/base/学习笔记/Kotlin速成.html">Kotlin速成.md</a>
            </div>
            </div>

            <div class="folder-wrapper folder-top-wrapper">
                <div class="folder-name"> 旧文档，待整理</div>
            <div class="folder-wrapper ">
                <div class="folder-name">> draft</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/draft/android-open-browser.html">android-open-browser.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/draft/doc-white-configration.html">doc-white-configration.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/draft/linux-note.html">linux-note.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/draft/rxjava-learn.html">rxjava-learn.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/draft/useful-software.html">useful-software.md</a>
            </div>
            </div>

            <div class="folder-wrapper ">
                <div class="folder-name">> hencoder课堂笔记</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/02_HTTP基础.html">02 HTTP基础.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/03_编码加密等.html">03 编码加密等.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/04_登录和授权.html">04 登录和授权.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/05_TCP_IP协议族.html">05 TCP IP协议族.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/06_HTTPS.html">06 HTTPS.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/07_08_Kotlin速成.html">07 08 Kotlin速成.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/09_Retrofit源码.html">09 Retrofit源码.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/10_Okhttp源码.html">10 Okhttp源码.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/11_自定义View绘制.html">11 自定义View绘制.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/18_自定义View布局.html">18 自定义View布局.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/22_触摸反馈原理.html">22 触摸反馈原理.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/30_多线程和线程同步.html">30 多线程和线程同步.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/32_Android多线程机制.html">32 Android多线程机制.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/33_RxJava源码.html">33 RxJava源码.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/55_HashMap源码解析.html">55 HashMap源码解析.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/ConstraintLayout约束布局.html">ConstraintLayout约束布局.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/Java_IO.html">Java IO.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/hencoder课堂笔记/泛型.html">泛型.md</a>
            </div>
            </div>

            <div class="folder-wrapper ">
                <div class="folder-name">> 其他学习笔记</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/其他学习笔记/C语言速成.html">C语言速成.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/其他学习笔记/hencoder自定义View免费课.html">hencoder自定义View免费课.md</a>
            </div>
            </div>

            <div class="folder-wrapper ">
                <div class="folder-name">> 小程序笔记</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/小程序笔记/note-typescript.html">note-typescript.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/小程序笔记/note-小程序.html">note-小程序.md</a>
            </div>
            </div>

            <div class="article-item">
                > <a href="/base/旧文档，待整理/要学习的东西.html">要学习的东西.md</a>
            </div>
            <div class="folder-wrapper ">
                <div class="folder-name">> 读书笔记</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/读书笔记/《Java核心技术卷Ⅰ》笔记.html">《Java核心技术卷Ⅰ》笔记.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/读书笔记/《图解HTTP》笔记.html">《图解HTTP》笔记.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/读书笔记/《数据结构》笔记.html">《数据结构》笔记.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/读书笔记/《第一行代码》笔记.html">《第一行代码》笔记.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/读书笔记/《计算机网络》笔记.html">《计算机网络》笔记.md</a>
            </div>
            </div>

            <div class="folder-wrapper ">
                <div class="folder-name">> 面试题</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/1_简历.html">1 简历.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/2_Android面试题.html">2 Android面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/3_Java面试题.html">3 Java面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/4_算法题记录.html">4 算法题记录.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/5_网络面试题.html">5 网络面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/6_数据结构.html">6 数据结构.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/7_操作系统面试题.html">7 操作系统面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/8_设计模式.html">8 设计模式.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题/9_不属于技术的面试题.html">9 不属于技术的面试题.md</a>
            </div>
            </div>

            <div class="folder-wrapper ">
                <div class="folder-name">> 面试题汇总</div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/1_简历.html">1 简历.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/10_面试记录.html">10 面试记录.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/2_Android面试题.html">2 Android面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/3_Java面试题.html">3 Java面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/4_算法题记录.html">4 算法题记录.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/5_网络面试题.html">5 网络面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/6_数据结构.html">6 数据结构.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/7_操作系统面试题.html">7 操作系统面试题.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/8_设计模式.html">8 设计模式.md</a>
            </div>
            <div class="article-item">
                >> <a href="/base/旧文档，待整理/面试题汇总/9_不属于技术的面试题.html">9 不属于技术的面试题.md</a>
            </div>
            </div>

            </div>

        </div>
    </aside>

    <article class="rightArea flex-center">
        <div class="article-wrapper">
            <h1>《图解HTTP》笔记</h1>
<blockquote>
<p>HTTP，全名<code>Hypertext Transfer Protocol</code>，超文本传输协议</p>
</blockquote>
<h2>第 1 章 了解web及网络基础</h2>
<p>互联网是再TCP/IP协议族的基础上运作起来的</p>
<p>TCP/IP协议族分为四层：</p>
<ul>
<li>应用层：决定了向用户提供应用服务时的通信活动，如FTP，DNS，HTTP等</li>
<li>传输层：提供数据传输，如TCP，UDP</li>
<li>网络层：处理数据包？</li>
<li>链路层：用来处理连接网路的硬件部分</li>
</ul>
<p>与HTTP密切相关的几个协议：</p>
<ul>
<li>IP协议：作用是保证数据包传送到指定目标</li>
<li>TCP协议：作用是可靠传输</li>
<li>DNS服务：负责解析域名成IP地址</li>
</ul>
<p><strong>URI和URL</strong></p>
<ul>
<li>URI是<strong>统一资源标识符</strong>，强调是唯一标识</li>
<li>URL是<strong>统一资源定位符</strong>，强调的是位置，在什么位置上</li>
</ul>
<h2>第 2 章 简单的HTTP协议</h2>
<p>请求访问资源的一端为客户端，提供资源的一端为服务器端，始终都是由客户端来建立通信的</p>
<p>客户端请求报文：</p>
<pre><code class="language-java">//  方法  URI     版本协议
    GET /user/   HTTP/1.1
// Request Headers   
    Host: api.github.com
    Content-Type: text/plain
    Content-Length:21
// Request Body
    name=fushaolei&amp;age=21
</code></pre>
<p>服务端响应报文：</p>
<pre><code class="language-java">//  版本协议    状态码  状态信息
	HTTP/1.1  200   OK
// Response Headers        
    Content-Type: application/json
    Content-Length:21
// Response Body
    bodybodybodybodybodybodybodybodybodybodybodybodybodybodybodybodybodybodybodybody
</code></pre>
<p>Http是不保存状态的协议</p>
<p>各种请求方法：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>请求资源，无Request Body，有Response Body</td>
</tr>
<tr>
<td>POST</td>
<td>用于增加或修改资源，有Request Body，有Response Body</td>
</tr>
<tr>
<td>PUT</td>
<td>同样用于增加或修改资源，但和POST不同的是，PUT是幂等的（调用一次与连续调用多次是等价的），有Response Body</td>
</tr>
<tr>
<td>HEAD</td>
<td>获得报文首部，没有Response Body</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除文件</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>询问支持方法</td>
</tr>
<tr>
<td>TRACE</td>
<td>追踪路径，可以查询发出去的请求是被怎样加工修改的</td>
</tr>
<tr>
<td>CONNECT</td>
<td>要求用隧道协议连接代理</td>
</tr>
</tbody>
</table>
<p>使用Cookie进行状态管理，客户端保存好服务器端发送过来的Set-Cookie字段，在每次请求的时候带上Cookie，从而验证身份</p>
<h2>第 3 章 HTTP报文内的HTTP信息</h2>
<p>Http报文本质是由多行（CR+LF换行符）数据构成的<strong>字符串文本</strong></p>
<p>报文结构：</p>
<p>请求报文：</p>
<pre><code class="language-java">请求行
各种首部字段
// 换行，就这里空一行
Request body（如果有的话）
</code></pre>
<p>响应报文：</p>
<pre><code class="language-java">状态行
各种首部字段
// 换行，就这里空一行
Response body（如果有的话）
</code></pre>
<p>首部字段有4种，分别是，通用首部，请求首部，响应首部，实体首部</p>
<p>内容编码：用于压缩和解压缩内容，有这几种：gzip，compress，deflate，identity（不进行编码）</p>
<p>分块传输编码：将实体分割成块传给客户端</p>
<p>发送多种数据的集合：multipart/form-data，multipart/byteranges，都会使用到boundary字符串来划分，比如boundary=abc，那么各个实体部分的起始行都会用--abc来进行标记，然后使用--abc--来作为结束的标志，而且每个实体部分的起始行都可含有首部字符</p>
<p>获取部分内容：Content-Range: bytes=5001-10000</p>
<h2>第 4 章 返回结果的HTTP状态码</h2>
<p>状态码的类别：</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>1XX</td>
<td>infonational</td>
</tr>
<tr>
<td>2XX</td>
<td>success</td>
</tr>
<tr>
<td>3XX</td>
<td>redirection</td>
</tr>
<tr>
<td>4XX</td>
<td>client error</td>
</tr>
<tr>
<td>5XX</td>
<td>server error</td>
</tr>
</tbody>
</table>
<p>常见状态码：</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>OK，被服务器正常处理，且对应请求的实体会返回</td>
</tr>
<tr>
<td>204</td>
<td>Not Content，被服务器正常处理，但没有实体返回</td>
</tr>
<tr>
<td>206</td>
<td>Partial Content，范围请求，响应报文应该有Content-Range来指定内容</td>
</tr>
<tr>
<td>301</td>
<td>Move Permanently，永久重定向</td>
</tr>
<tr>
<td>302</td>
<td>Found，临时重定向</td>
</tr>
<tr>
<td>303</td>
<td>See Other</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
</tr>
<tr>
<td>307</td>
<td>Temporary Redirect</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request，错误的请求</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized，未验证身份</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden，访问被拒绝</td>
</tr>
<tr>
<td>404</td>
<td>Not Found 无法找到资源</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
</tr>
</tbody>
</table>
<h2>第 5 章 与HTTP协作的Web服务器</h2>
<p>通信数据转发程序：代理（服务器和客户端的“中间人”），网关（转发通信数据），隧道（安全通信）</p>
<p>在HTTP之前出现的协议：FTP，NNTP，Archie，WAIS，Gopher</p>
<h2>第 6 章 HTTP首部</h2>
<p>格式：</p>
<pre><code>首部字段名:字段值1，字段值2
</code></pre>
<p>各种首部字段：</p>
<p>通用首部字段</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cache-Control</td>
<td>指定缓存的工作机制，有一堆</td>
</tr>
<tr>
<td>Connnection</td>
<td>管理持久连接</td>
</tr>
<tr>
<td>Date</td>
<td>创建Http报文的日期和时间</td>
</tr>
<tr>
<td>Transfer-Encoding</td>
<td>传输报文主体时采用的编码</td>
</tr>
<tr>
<td>Upgrade</td>
<td>检测http及其他协议是否有高可用版本</td>
</tr>
</tbody>
</table>
<p>请求首部字段：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>客户端想向服务器说明的</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accept</td>
<td>能够处理的媒体类型</td>
</tr>
<tr>
<td>Accept-Charset</td>
<td>支持的字符集</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>能支持的内容编码（gzip，compress，deflate，identity）</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>能处理的语言</td>
</tr>
<tr>
<td>Authorization</td>
<td>认证信息</td>
</tr>
<tr>
<td>Host</td>
<td>目标主机地址（<strong>给目标主机定位子主机的</strong>），<strong>这是唯一一个必须包含在请求内的字段</strong></td>
</tr>
<tr>
<td>Range</td>
<td>对于只想获取部分资源，这个字段指定部分资源的范围</td>
</tr>
<tr>
<td>Referer</td>
<td>请求的URI是从哪个web页面发起的</td>
</tr>
<tr>
<td>User-Agent</td>
<td>浏览器的种类</td>
</tr>
<tr>
<td>Cookie</td>
<td>请求需要验证Cookie时带上</td>
</tr>
</tbody>
</table>
<p>响应首部字段：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>服务器想向客户端说明的</th>
</tr>
</thead>
<tbody>
<tr>
<td>Location</td>
<td>重定向的uri</td>
</tr>
<tr>
<td>Retry-After</td>
<td>稍后发出请求的时间</td>
</tr>
<tr>
<td>Server</td>
<td>http服务器的信息</td>
</tr>
<tr>
<td>Set-Cookie</td>
<td>返回给客户端Cookie</td>
</tr>
</tbody>
</table>
<p>实体首部字段：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Encoding</td>
<td>实体的内容编码</td>
</tr>
<tr>
<td>Content-Language</td>
<td>实体使用的语言是什么</td>
</tr>
<tr>
<td>Content-Length</td>
<td>实体的大小（单位是字节）</td>
</tr>
<tr>
<td>Content-Location</td>
<td>实体对应的URI</td>
</tr>
<tr>
<td>Content-Range</td>
<td>字节为单位的实体范围</td>
</tr>
<tr>
<td>Content-Type</td>
<td>实体媒体类型</td>
</tr>
</tbody>
</table>
<h2>第 7 章 确保Web安全的HTTPS</h2>
<p>http的缺点：</p>
<ul>
<li>明文传输，内容可能会被窃听</li>
<li>不验证身份，有可能遭遇伪装</li>
<li>无法验证报文的完整性，可能已被篡改（像这样，请求或响应传输途中，遭攻击者拦截并篡改内容的攻击称为<strong>中间人攻击</strong>）</li>
</ul>
<p>Https = Http + 加密 + 认证 + 完整性保护，简单来说 Https = Http + SSL</p>
<p>HTTPS通信步骤：</p>
<ol>
<li>客户端发送Client Hello给服务端</li>
<li>服务端返回Server Hello给客户端</li>
<li>服务器发送Certificate报文，里边包含公钥证书</li>
<li>服务器发送Server Hello Done通知客户端，最初握手结束</li>
<li>客户端发送Client Key Exchange报文，里边包含Pre-master secret随机密码串</li>
<li>客户端发送Change Cipher Spec报文，提示服务端，之后的通信将采用Pre-master secret密钥加密</li>
<li>客户端发送Finished报文，该报文包含建立连接至今全部报文的整体校验值</li>
<li>服务端发送Change Cipher Spec</li>
<li>服务端发送Finished</li>
<li>SSL连接建立完成</li>
</ol>
<h2>第 8 章 确认访问用户身份的认证</h2>
<p>BASIC认证，DIGEST认证</p>

        </div>
    </article>
</main>
</body>
</html>

